/*
* This header is generated by classdump-dyld 1.0
* on Saturday, May 14, 2016 at 2:35:14 PM Eastern Daylight Time
* Operating System: Version 9.0.2 (Build 13A452)
* Image Source: /var/mobile/Containers/Bundle/Application/ABE77428-6C25-43C9-8AD9-E0579EF1E1DA/WhatsApp.app/WhatsApp
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <WhatsApp/WhatsApp-Structs.h>
#import <libobjc.A.dylib/CLLocationManagerDelegate.h>
#import <WhatsApp/NSFetchedResultsControllerDelegate.h>
#import <WhatsApp/WAUpgradeCallback.h>
#import <libobjc.A.dylib/CSSearchableIndexDelegate.h>
#import <WhatsApp/WAMediaUploadOperationDelegate.h>

@protocol OS_dispatch_group, OS_dispatch_queue, WAChatStorageDelegate;
@class NSOperationQueue, WATask, NSManagedObjectModel, NSPersistentStoreCoordinator, NSManagedObjectContext, NSCondition, NSMutableArray, NSFetchedResultsController, WASearchEngine, NSObject, WAMessageSpotlightIndexer, WAChatSessionSpotlightIndexer, NSMutableDictionary, NSBlockOperation, NSPersistentStore, WABlockedContactsList, CLLocationManager, CLLocation, NSMutableSet, NSString, NSURL;

@interface WAChatStorage : NSObject <CLLocationManagerDelegate, NSFetchedResultsControllerDelegate, WAUpgradeCallback, CSSearchableIndexDelegate, WAMediaUploadOperationDelegate> {

	NSOperationQueue* _mediaUploadQueue;
	WATask* _indexMessagesTask;
	WATask* _deleteMessagesTask;
	WATask* _extractWebURLsTask;
	WATask* _indexChatSessionsByCoreSpotlightTask;
	WATask* _checkChatIdentityVerificationStateTask;
	NSManagedObjectModel* _managedObjectModel;
	NSPersistentStoreCoordinator* _persistentStoreCoordinator;
	NSManagedObjectContext* _parentMOC;
	NSManagedObjectContext* _managedObjectContext;
	unsigned _saveMOCCounter;
	char _processingMessages;
	NSCondition* _processMessagesCondition;
	NSMutableArray* _insertedChats;
	NSMutableArray* _deletedChats;
	NSMutableArray* _updatedChats;
	NSFetchedResultsController* _allChatsResultsController;
	WASearchEngine* _searchEngine;
	NSObject*<OS_dispatch_group> _searchEngineDispatchGroup;
	WAMessageSpotlightIndexer* _messageSpotlightIndexer;
	WAChatSessionSpotlightIndexer* _chatSessionSpotlightIndexer;
	char _needsToIndexMessagesForSearch;
	char _needsToSpotlightIndexChatSessionsForSearch;
	NSMutableDictionary* _activeDownloadIdentifiers;
	NSBlockOperation* _lastWebClientRelayOperation;
	NSOperationQueue* _receiveMessagesOperationQueue;
	NSObject*<OS_dispatch_queue> _backgroundFetchingQueue;
	NSObject*<OS_dispatch_queue> _chatStoreQueue;
	char _groupLocationRequested;
	id<WAChatStorageDelegate> _delegate;
	NSPersistentStore* _chatStore;
	WABlockedContactsList* _blockedContactsList;
	NSMutableArray* _mediaAutodownloadRetryArray;
	NSMutableArray* _URLSessionTasksToProcessOnCreateMOC;
	CLLocationManager* _locationManager;
	CLLocation* _bestLocation;
	NSMutableSet* _locationQueue;
	CLLocation* _lastReportedLocation;
	unsigned _locationSharingBackgroundTask;

}

@property (nonatomic,readonly) char hasChatMessages; 
@property (nonatomic,readonly) char hasArchivedChatSessions; 
@property (nonatomic,readonly) char hasUnarchivedChatSessions; 
@property (nonatomic,readonly) unsigned archivedChatSessionsCount; 
@property (readonly) unsigned hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
@property (nonatomic,readonly) NSURL * preMigrationChatDatabaseFileURL; 
@property (nonatomic,readonly) unsigned databaseStatus; 
@property (nonatomic,retain) id<WAChatStorageDelegate> delegate;                                         //@synthesize delegate=_delegate - In the implementation block
@property (nonatomic,readonly) NSPersistentStore * chatStore;                                            //@synthesize chatStore=_chatStore - In the implementation block
@property (nonatomic,readonly) WABlockedContactsList * blockedContactsList;                              //@synthesize blockedContactsList=_blockedContactsList - In the implementation block
@property (nonatomic,readonly) WASearchEngine * searchEngine;                                            //@synthesize searchEngine=_searchEngine - In the implementation block
@property (nonatomic,readonly) WAChatSessionSpotlightIndexer * chatSessionSpotlightIndexer;              //@synthesize chatSessionSpotlightIndexer=_chatSessionSpotlightIndexer - In the implementation block
@property (nonatomic,readonly) NSOperationQueue * mediaUploadQueue; 
@property (nonatomic,retain) NSMutableArray * mediaAutodownloadRetryArray;                               //@synthesize mediaAutodownloadRetryArray=_mediaAutodownloadRetryArray - In the implementation block
@property (nonatomic,retain) NSMutableArray * URLSessionTasksToProcessOnCreateMOC;                       //@synthesize URLSessionTasksToProcessOnCreateMOC=_URLSessionTasksToProcessOnCreateMOC - In the implementation block
@property (nonatomic,retain) CLLocationManager * locationManager;                                        //@synthesize locationManager=_locationManager - In the implementation block
@property (nonatomic,retain) CLLocation * bestLocation;                                                  //@synthesize bestLocation=_bestLocation - In the implementation block
@property (nonatomic,retain) NSMutableSet * locationQueue;                                               //@synthesize locationQueue=_locationQueue - In the implementation block
@property (assign,nonatomic) char groupLocationRequested;                                                //@synthesize groupLocationRequested=_groupLocationRequested - In the implementation block
@property (nonatomic,retain) CLLocation * lastReportedLocation;                                          //@synthesize lastReportedLocation=_lastReportedLocation - In the implementation block
@property (assign,nonatomic) unsigned locationSharingBackgroundTask;                                     //@synthesize locationSharingBackgroundTask=_locationSharingBackgroundTask - In the implementation block
+(id)errorWithDescription:(id)arg1 failureReason:(id)arg2 ;
+(void)wa_didUpgradeFrom:(id)arg1 to:(id)arg2 ;
-(id)existingChatSessionsForJIDs:(id)arg1 prefetchingLastMessage:(char)arg2 ;
-(void)setURLSessionTasksToProcessOnCreateMOC:(NSMutableArray *)arg1 ;
-(void)URLSessionManagerDidUpdateTaskProgress:(id)arg1 ;
-(void)URLSessionManagerDidFinishDownloadTask:(id)arg1 ;
-(void)URLSessionManagerDidChangeState:(id)arg1 ;
-(void)xmppConnectionStateDidChange:(id)arg1 ;
-(void)mediaDownloadPolicyDidChange:(id)arg1 ;
-(void)callLoggerDidAddEvent:(id)arg1 ;
-(void)e2eIdentityChanged:(id)arg1 ;
-(void)removeSearchIndex;
-(void)resendPendingReceipts;
-(void)checkMessagesForMediaAutodownload;
-(void)clearOldParticipantHistory;
-(WASearchEngine *)searchEngine;
-(void)setUpFetchedResultsControllers;
-(void)setUpRecurringTasksIfNeeded;
-(void)setUpSpotlightIndexer;
-(NSMutableArray *)URLSessionTasksToProcessOnCreateMOC;
-(void)handleCompletedURLSessionDownloadTask:(id)arg1 ;
-(char)hasSufficientFreeDiskSpaceForSearchIndexing;
-(id)newManagedObjectContext;
-(void)reportSearchIndexStatsIfNeededWithLastIndexedMessagesCount:(int)arg1 completion:(/*^block*/id)arg2 ;
-(void)saveContextAndMergeChanges:(id)arg1 completion:(/*^block*/id)arg2 ;
-(WAChatSessionSpotlightIndexer *)chatSessionSpotlightIndexer;
-(id)metadataForKey:(id)arg1 ;
-(void)addE2ELockMessageToChatSessionsWithJIDs:(id)arg1 ;
-(void)postIdentityVerifiedUpgradeNotificationForJids:(id)arg1 ;
-(void)saveAndWaitUntilDone:(char)arg1 ;
-(char)contextContainsUnindexedMessages:(id)arg1 ;
-(char)contextContainsSpotlightUnindexedChatSessions:(id)arg1 ;
-(void)internalSaveWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)saveMainMOCOnly;
-(void)checkMOCForObjectsWithTemporaryIDs:(id)arg1 ;
-(void)saveMainMOCPendingFullSave;
-(void)workerMOCDidSave:(id)arg1 ;
-(id)saveNonMainManagedObjectContext:(id)arg1 ;
-(void)setLocationQueue:(NSMutableSet *)arg1 ;
-(void)setBestLocation:(CLLocation *)arg1 ;
-(void)setGroupLocationRequested:(char)arg1 ;
-(id)persistentStorePath;
-(void)loadStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)dropStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)setMetadata:(id)arg1 forKey:(id)arg2 ;
-(void)reportChatsFieldStatsIfNeeded;
-(void)setMediaAutodownloadRetryArray:(NSMutableArray *)arg1 ;
-(void)processPendingAutodownloads;
-(NSMutableArray *)mediaAutodownloadRetryArray;
-(void)resendAllServerErrorReceiptsWithoutAck;
-(id)messageWithID:(id)arg1 inContext:(id)arg2 ;
-(id)chatSessionForJID:(id)arg1 ;
-(id)messageWithStanzaID:(id)arg1 isFromMe:(char)arg2 inChatSession:(id)arg3 ;
-(id)messagesWithStanzaID:(id)arg1 inChatSession:(id)arg2 ;
-(id)messageWithStanzaID:(id)arg1 participant:(id)arg2 isFromMe:(char)arg3 inChatSession:(id)arg4 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 eligibleForDeletionIfEmpty:(char)arg3 ;
-(id)createChatSessionWithSubject:(id)arg1 groupJID:(id)arg2 groupNotification:(id)arg3 ;
-(void)updateChatSessionWithContactData:(id)arg1 ;
-(void)requestInfoForGroupWithJID:(id)arg1 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 eligibleForDeletionIfEmpty:(char)arg3 hidden:(char)arg4 ;
-(void)setChatSession:(id)arg1 archived:(char)arg2 notifyWebClient:(char)arg3 saveChanges:(char)arg4 ;
-(void)updateChatSessionWithMessage:(id)arg1 ;
-(id)addParticipantWithJID:(id)arg1 waContact:(id)arg2 toChatSession:(id)arg3 addMessage:(char)arg4 active:(char)arg5 timestamp:(id)arg6 groupNotification:(id)arg7 ;
-(id)libraryPathToMediaItemWithHash:(id)arg1 returningSize:(CGSize*)arg2 ;
-(void)didFinishDownloadingMediaInMessage:(id)arg1 ackRef:(id)arg2 toPath:(id)arg3 usingLocalCopy:(char)arg4 ;
-(void)queueMediaDownloadForMessage:(id)arg1 autodownload:(char)arg2 ;
-(void)internalReceiveChatMessages:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)groupMembersWithJIDs:(id)arg1 ;
-(id)newChatSessionWithJID:(id)arg1 ;
-(void)addMessage:(id)arg1 fromGroupMember:(id)arg2 toChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(char)findContactInContext:(id)arg1 forChatSession:(id)arg2 ;
-(id)messageWithStanzaID:(id)arg1 isFromMe:(char)arg2 inChatSessionWithJID:(id)arg3 ;
-(void)delayedSave;
-(id)sentMessagesWithStanzaIDs:(id)arg1 jid:(id)arg2 ;
-(void)reuploadMediaInMessage:(id)arg1 requesterIsWebClient:(char)arg2 completion:(/*^block*/id)arg3 ;
-(void)sendMessage:(id)arg1 notify:(char)arg2 ;
-(char)isChatSessionForExistingUser:(id)arg1 ;
-(void)storeModifiedMessage:(id)arg1 notify:(char)arg2 ;
-(void)receiveError:(id)arg1 forMessage:(id)arg2 ;
-(void)startMediaUploadForMessage:(id)arg1 ;
-(void)requestLocationForMessage:(id)arg1 ;
-(id)outgoingMessageTemplateForSession:(id)arg1 withMedia:(char)arg2 ;
-(void)sendMessageWithImage:(id)arg1 caption:(id)arg2 collectionID:(id)arg3 index:(int)arg4 count:(int)arg5 replyingToMessage:(id)arg6 inChatSession:(id)arg7 completion:(/*^block*/id)arg8 ;
-(void)sendMessageWithMedia:(id)arg1 ;
-(void)markChatSessionAsTrusted:(id)arg1 ;
-(void)setChatSession:(id)arg1 archived:(char)arg2 ;
-(id)receivedVoiceMessagesWithStanzaID:(id)arg1 ;
-(id)receivedMessagesWithStanzaID:(id)arg1 ;
-(void)changeStatus:(unsigned)arg1 forOutgoingMessages:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 userData:(id)arg5 playSound:(out char*)arg6 ;
-(void)reportFieldStatsForSentMessage:(id)arg1 sentSuccess:(char)arg2 ;
-(void)deleteChatSession:(id)arg1 fromWebClient:(char)arg2 ;
-(id)replaceChatSessionWithEmptySession:(id)arg1 ;
-(void)locationRequestFinishedWithLocation:(id)arg1 userInfo:(id)arg2 ;
-(void)locationRequestFailedWithError:(id)arg1 userInfo:(id)arg2 ;
-(void)requestLocationWithCallbackDictionary:(id)arg1 ;
-(NSMutableSet *)locationQueue;
-(void)useBestLocationResult:(id)arg1 ;
-(void)startLocationManagerIfNecessary;
-(unsigned)locationSharingBackgroundTask;
-(void)setLocationSharingBackgroundTask:(unsigned)arg1 ;
-(void)stopLocationManagerIfPossible;
-(void)stopGroupLocationSharing;
-(char)groupLocationRequested;
-(CLLocation *)bestLocation;
-(CLLocation *)lastReportedLocation;
-(void)setLastReportedLocation:(CLLocation *)arg1 ;
-(NSPersistentStore *)chatStore;
-(void)addE2ELockMessageToChatSession:(id)arg1 ;
-(void)addE2EIndentityChangeEventToChatSession:(id)arg1 groupMember:(id)arg2 ;
-(long long)calculateStandardTarSizeForCount:(unsigned)arg1 ;
-(unsigned long long)sizeForMediaOfType:(unsigned)arg1 forJID:(id)arg2 excludeBroadcast:(char)arg3 ;
-(unsigned)countAllMessagesOfType:(unsigned)arg1 forJID:(id)arg2 excludeBroadcast:(char)arg3 ;
-(unsigned)countAllDownloadedMediaMessagesOfType:(unsigned)arg1 excludeBroadcast:(char)arg2 ;
-(long long)calculateThumbnailTARExpectedSizeForSmallItemCount:(unsigned)arg1 largeItemCount:(unsigned)arg2 documentItemCount:(unsigned)arg3 ;
-(long long)calculateMediaTARExpectedSizeWithItemCount:(unsigned)arg1 ;
-(long long)calculateVideoTARExpectedSizeWithItemCount:(unsigned)arg1 ;
-(unsigned long long)calculateDocumentTARExpectedSizeWithItemCount:(unsigned)arg1 ;
-(void)calculateDatabaseSizes:(SCD_Struct_WA16*)arg1 ;
-(id)filePathsForProperties:(id)arg1 ofTypes:(id)arg2 shouldCancel:(/*^block*/id)arg3 ;
-(unsigned)countEntitiesOfType:(Class)arg1 withPredicateFormat:(id)arg2 ;
-(id)outgoingMessageWithSharedItem:(id)arg1 ;
-(void)performAfterInit;
-(void)performBeforeStoreAdd;
-(void)performAfterStoreAdd;
-(void)performBeforeStoreDrop;
-(void)performAfterStoreDrop;
-(void)performAfterMOCCreated;
-(void)changeAfterRestore;
-(void)markAsCorrupted;
-(id)chatSessionsForContactsUpdateInContext:(id)arg1 ;
-(id)chatSessionWithObjectID:(id)arg1 ;
-(id)existingChatSessionsForContact:(id)arg1 includeLinkedContacts:(char)arg2 ;
-(char)chatSessionsWithJIDsContainMessages:(id)arg1 ;
-(char)hasChatMessages;
-(unsigned)archivedChatSessionsCount;
-(char)hasArchivedChatSessions;
-(char)hasUnarchivedChatSessions;
-(int)compareNumberOfMessagesInChatSession:(id)arg1 withNumber:(unsigned)arg2 ;
-(id)messagesForSession:(id)arg1 startOffset:(unsigned)arg2 limit:(unsigned)arg3 ;
-(id)unreadMessagesForSession:(id)arg1 startOffset:(unsigned)arg2 ;
-(unsigned)countOfMessagesAfterMessage:(id)arg1 ;
-(id)receivedMessagesWithStanzaIDs:(id)arg1 ;
-(id)messageWithID:(id)arg1 ;
-(id)refetchAllMessages:(id)arg1 ;
-(id)messageWithStanzaID:(id)arg1 participant:(id)arg2 isFromMe:(char)arg3 inChatSessionWithJID:(id)arg4 ;
-(id)newOrExistingChatSessionForJID:(id)arg1 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 ;
-(void)setAllChatSessionsArchived:(char)arg1 ;
-(id)messageWithMessageStanza:(id)arg1 ;
-(void)receiveChatMessages:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)sentMessagesWithStanzaID:(id)arg1 jid:(id)arg2 ;
-(void)receivedServerErrorAckForStanzaID:(id)arg1 fromJID:(id)arg2 participantJID:(id)arg3 ;
-(void)receivedServerErrorForStanzaIDs:(id)arg1 fromJID:(id)arg2 participantJID:(id)arg3 ;
-(void)retrySendingMessage:(id)arg1 ;
-(void)forwardMessages:(id)arg1 toChatSession:(id)arg2 ;
-(id)sendMessageWithText:(id)arg1 metadata:(id)arg2 replyingToMessage:(id)arg3 inChatSession:(id)arg4 ;
-(void)sendMessageWithImage:(id)arg1 caption:(id)arg2 replyingToMessage:(id)arg3 inChatSession:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)sendVideoAtURL:(id)arg1 caption:(id)arg2 collectionID:(id)arg3 index:(int)arg4 count:(int)arg5 replyingToMessage:(id)arg6 inChatSession:(id)arg7 completion:(/*^block*/id)arg8 ;
-(void)sendDocumentAttachment:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)sendAudioTrack:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(id)messageWithAudioFilePath:(id)arg1 quotedMessage:(id)arg2 inChatSession:(id)arg3 origin:(unsigned)arg4 durationSeconds:(int)arg5 doNotUpload:(char)arg6 streaming:(char)arg7 streamingHash:(id)arg8 mediaKey:(id)arg9 error:(out id*)arg10 ;
-(void)sendPlace:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)sendVCard:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 ;
-(void)changeStatus:(unsigned)arg1 forIncomingMessageWithStanzaID:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 ;
-(void)changeStatus:(unsigned)arg1 forOutgoingMessagesWithStanzaIDs:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 userData:(id)arg5 playSound:(out char*)arg6 ;
-(void)deleteChatSession:(id)arg1 ;
-(void)deleteAllChatSessions;
-(void)clearAllChatSessions;
-(void)deleteAllMessagesInSession:(id)arg1 ;
-(void)deleteMessages:(id)arg1 inChatSession:(id)arg2 fromWebClient:(char)arg3 ;
-(void)didBulkDeleteMessagesInChatSession:(id)arg1 beforeDate:(id)arg2 includingStarredMessages:(char)arg3 fromWebClient:(char)arg4 ;
-(void)debug_deleteAllOrphanedMessagesNow;
-(void)startGroupLocationSharingForDuration:(double)arg1 ;
-(void)locationUpdatesRequestExpired;
-(void)saveBlockedJIDs:(id)arg1 ;
-(void)debug_resetIdentityVerificationLockForAllChats;
-(void)resetVerificationStateChecksForAllChats;
-(void)upgradeChatSession:(id)arg1 toIdentityVerificationState:(short)arg2 onMessageSend:(char)arg3 ;
-(void)finishProcessingRemainingMessages;
-(void)calculatePotentialBackupSize:(SCD_Struct_WA17*)arg1 ;
-(id)estimatedVideoUploadSize;
-(id)thumbnailFilePathsShouldCancel:(/*^block*/id)arg1 ;
-(id)tarFilePathsOfTypes:(id)arg1 shouldCancel:(/*^block*/id)arg2 ;
-(unsigned)countOfMessages;
-(id)outgoingMessagesInSharedItemOutbox:(id)arg1 ;
-(void)deleteAllMedia;
-(unsigned)databaseStatus;
-(void)loadStoreNowWithCompletionHandler:(/*^block*/id)arg1 ;
-(WABlockedContactsList *)blockedContactsList;
-(void)markMessages:(id)arg1 asStarred:(char)arg2 notifyWebClient:(char)arg3 ;
-(char)removeDocIDColumnUsingBatchUpdate;
-(char)removeDocIDColumnUsingLightweightMigration;
-(void)searchMessagesMatchingText:(id)arg1 chatSessionJIDs:(id)arg2 starredOnly:(char)arg3 type:(int)arg4 offset:(unsigned)arg5 limit:(unsigned)arg6 completion:(/*^block*/id)arg7 ;
-(void)searchChatSessionsMatchingText:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)resetChatSessionCoreSpotlightIndexStatusWithCompletion:(/*^block*/id)arg1 ;
-(void)resetChatSessionCoreSpotlightIndex;
-(void)loadStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 thatShouldRunOnMainThread:(char)arg2 ;
-(id)chatSessionForJID:(id)arg1 inContext:(id)arg2 ;
-(id)profilePictureItemForJID:(id)arg1 inContext:(id)arg2 ;
-(unsigned)countEntitiesOfType:(Class)arg1 withPredicate:(id)arg2 ;
-(void)sendChatStorageDidLoadDatabaseNotification;
-(id)allChatSessionsWithPrefetchedRelationships:(id)arg1 includeBroadcastLists:(char)arg2 ;
-(id)allGroupChatSessions;
-(id)profilePictureItemForJID:(id)arg1 ;
-(unsigned)countAllExistingDownloadedMediaMessagesOfType:(unsigned)arg1 forJID:(id)arg2 ;
-(NSOperationQueue *)mediaUploadQueue;
-(id)blockedJIDs;
-(id)sortedBroadcastLists;
-(id)allMemberJIDsInBroadcastList:(id)arg1 ;
-(id)chatSessionsWithVerificationState:(short)arg1 inContext:(id)arg2 ;
-(id)existingChatSessionForJID:(id)arg1 ;
-(void)requestParticipatingGroups:(char)arg1 withCompletion:(/*^block*/id)arg2 ;
-(void)requestListsIfNeeded;
-(void)removeParticipantsWithJIDs:(id)arg1 fromChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)finishCreationOfGroupWithTempJID:(id)arg1 usingXMPPGroup:(id)arg2 ;
-(void)createOrUpdateChatSession:(id)arg1 withXMPPGroup:(id)arg2 groupNotification:(id)arg3 ;
-(void)modifyParticipantInChatSession:(id)arg1 oldJID:(id)arg2 newJID:(id)arg3 timestamp:(id)arg4 ;
-(void)promoteParticipantsWithJIDs:(id)arg1 inChatSession:(id)arg2 notification:(id)arg3 ;
-(void)demoteParticipantsWithJIDs:(id)arg1 inChatSession:(id)arg2 notification:(id)arg3 ;
-(void)endGroupWithWAChatSession:(id)arg1 participantUnknown:(char)arg2 groupNotification:(id)arg3 ;
-(void)setLockedState:(char)arg1 forChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)changeSubject:(id)arg1 forChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)retryMediaDownloadForMessage:(id)arg1 ;
-(id)messagesInChatSession:(id)arg1 count:(unsigned)arg2 withOrder:(unsigned)arg3 relativeToStanzaID:(id)arg4 isFromMe:(char)arg5 participant:(id)arg6 ;
-(id)messagesInChatSession:(id)arg1 afterMessage:(id)arg2 count:(unsigned)arg3 ;
-(id)allRecentlyRelevantMessagesInChats;
-(id)allOutgoingMessagesAndPTTInChatSessionIncludingAndAfterMessage:(id)arg1 ;
-(char)relayOutgoingMessageStanza:(id)arg1 ;
-(id)messagesWithMessageIDs:(id)arg1 inChatSession:(id)arg2 ;
-(void)requestRemovalOfMemberJIDs:(id)arg1 fromGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)requestAdditionOfMemberJIDs:(id)arg1 contacts:(id)arg2 toGroupWithJID:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)requestPromotionOfMemberWithJID:(id)arg1 inGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)requestToLeaveGroupWithJID:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)requestSubjectChangeForGroupWithJID:(id)arg1 to:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(id)createChatSessionForContactJIDs:(id)arg1 subject:(id)arg2 picture:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(id)allChatSessions;
-(id)starredMessagesInChatSessionsWithJIDs:(id)arg1 startOffset:(unsigned)arg2 limit:(unsigned)arg3 ;
-(id)historicGroupParticipantsForGroup:(id)arg1 phash:(id)arg2 ;
-(void)resetSenderKeyFlagsForJid:(id)arg1 groupJID:(id)arg2 ;
-(void)requestAndMergeAllListsFromServerWithCompletionHandler:(/*^block*/id)arg1 ;
-(id)lastPushNameForGroupMember:(id)arg1 inContext:(id)arg2 ;
-(void)fetchLocationMessagesInChatSession:(id)arg1 afterDate:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)migrateChatDatabaseWithCompletionHandler:(/*^block*/id)arg1 ;
-(id)lastIncomingMessagesInChatSession:(id)arg1 ;
-(void)abortMediaUploadDownloadOperationForMessage:(id)arg1 ;
-(void)addGroupPictureChangeEventToWAChatSession:(id)arg1 authorJID:(id)arg2 timestamp:(id)arg3 ;
-(void)addGroupPictureDeleteEventToWAChatSession:(id)arg1 authorJID:(id)arg2 timestamp:(id)arg3 ;
-(char)hasGroupChatSessions;
-(id)createChatSessionForContacts:(id)arg1 subject:(id)arg2 picture:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)retryGroupCreateForChatSession:(id)arg1 ;
-(void)removeGroupMember:(id)arg1 fromList:(id)arg2 createGroupEvent:(char)arg3 ;
-(char)addGroupMemberWithInfo:(id)arg1 toList:(id)arg2 createGroupEvent:(char)arg3 ;
-(unsigned)countSentMedia;
-(id)streamingUploadingOperationForMediaAtPath:(id)arg1 encrypt:(char)arg2 ;
-(void)mediaUploadOperationDidFinish:(id)arg1 ;
-(void)mediaUploadOperation:(id)arg1 didFailWithError:(id)arg2 ;
-(void)reallyRelayOutgoingMessage:(id)arg1 fromStanza:(id)arg2 ;
-(id)createNewList;
-(void)addInitialGroupEventToNewList:(id)arg1 ;
-(NSURL *)preMigrationChatDatabaseFileURL;
-(id)validMessageObjectIDsInMediaItems:(id)arg1 context:(id)arg2 ;
-(void)reportMigrationTimeFieldStatsWithDuration:(double)arg1 databaseSize:(long long)arg2 ;
-(void)migrateChatSessionPropertiesInContext:(id)arg1 ;
-(void)migrateGroupMemberPropertiesInContext:(id)arg1 ;
-(void)migrateGroupAdminAndCreatorInContext:(id)arg1 ;
-(void)migrateChatNotificationSettingsInContext:(id)arg1 ;
-(void)resetSearchStatusOfMessagesSatisfyingPredicate:(id)arg1 inContext:(id)arg2 ;
-(char)addMediaSectionIDToAllMessagesInContext:(id)arg1 ;
-(void)migrateProfilePictureItemInChatContext:(id)arg1 contactsContext:(id)arg2 ;
-(void)cancelMediaDownloadForMessage:(id)arg1 ;
-(id)downloadTaskDataWithMessage:(id)arg1 autodownload:(char)arg2 ;
-(id)messageWithDownloadIdentifier:(id)arg1 ;
-(void)didFailToDownloadMediaInMessage:(id)arg1 autodownload:(char)arg2 error:(id)arg3 ;
-(id)messagesWithDownloadIdentifiers:(id)arg1 ;
-(void)cancelFileUploadForMessage:(id)arg1 ;
-(void)mediaUploadOperation:(id)arg1 uploadProgressChanged:(float)arg2 ;
-(char)isJID:(id)arg1 participantInGroupWithJID:(id)arg2 ;
-(void)removeWAGroupMember:(id)arg1 fromChatSession:(id)arg2 syncDelete:(char)arg3 groupNotification:(id)arg4 ;
-(void)requestGroupCreateForChatSession:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)updateParticipantsForGroupJid:(id)arg1 changeTime:(id)arg2 jids:(id)arg3 oldPhash:(id)arg4 changeAction:(int)arg5 ;
-(id)assignNewBroadcastJID;
-(id)createMessageTemplateForGroupEventInList:(id)arg1 ;
-(id)insertListIfNeeded:(id)arg1 inContext:(id)arg2 ;
-(void)requestGroupEndForWAChatSession:(id)arg1 ;
-(void)controller:(id)arg1 didChangeObject:(id)arg2 atIndexPath:(id)arg3 forChangeType:(unsigned)arg4 newIndexPath:(id)arg5 ;
-(void)controllerDidChangeContent:(id)arg1 ;
-(void)controllerWillChangeContent:(id)arg1 ;
-(void)save;
-(void)setDelegate:(id<WAChatStorageDelegate>)arg1 ;
-(void)dealloc;
-(id)init;
-(id<WAChatStorageDelegate>)delegate;
-(void)applicationWillEnterForeground:(id)arg1 ;
-(void)didReceiveMemoryWarning:(id)arg1 ;
-(id)managedObjectContext;
-(char)loadPersistentStore;
-(void)deleteStorage;
-(void)saveWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)cancelAllDownloads;
-(void)cancelAllUploads;
-(CLLocationManager *)locationManager;
-(void)setLocationManager:(CLLocationManager *)arg1 ;
-(void)searchableIndex:(id)arg1 reindexAllSearchableItemsWithAcknowledgementHandler:(/*^block*/id)arg2 ;
-(void)searchableIndex:(id)arg1 reindexSearchableItemsWithIdentifiers:(id)arg2 acknowledgementHandler:(/*^block*/id)arg3 ;
-(id)persistentStoreURL;
-(void)locationManager:(id)arg1 didUpdateToLocation:(id)arg2 fromLocation:(id)arg3 ;
-(void)locationManager:(id)arg1 didFailWithError:(id)arg2 ;
@end

